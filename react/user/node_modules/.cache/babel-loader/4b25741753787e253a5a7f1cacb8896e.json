{"ast":null,"code":"var _jsxFileName = \"/Users/vishalmahanteshkodagali/Documents/RMIT/Sem 3/Full Stack Development/Assignment/Git_s3895036/loop-web-s3904406/react/user/src/components/MyBookedTickets.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { getLoggedInUser, getUser } from \"../data/repository\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MyBookedTickets = () => {\n  _s();\n\n  const user = getLoggedInUser();\n  const [userBookingHistory, setBookings] = useState([]);\n  useEffect(() => {\n    getUserBookings();\n    console.log(userBookingHistory);\n  }, []);\n\n  const getUserBookings = async () => {\n    const apiUrl = `http://localhost:4000/api/reservations/` + getUser();\n\n    try {\n      const response = await axios.get(apiUrl);\n\n      if (response.data) {\n        setBookings(response.data);\n      }\n    } catch (error) {\n      console.error('Error during booking fetch:', error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-5 my-booked-tickets\",\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.heading,\n      children: \"Booked Tickets\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), userBookingHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles.noTickets,\n      children: \"No tickets booked found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: styles.ticketList,\n      children: userBookingHistory.map((booking, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: styles.ticketItem,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: styles.movie,\n          children: \"Movie:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }, this), \" \", booking.session.movie.movie_name, \" , \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          style: styles.session,\n          children: \"Session:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 97\n        }, this), \" \", booking.session.session_time, \", \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          style: styles.ticketCount,\n          children: \"Tickets:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 178\n        }, this), \" \", booking.reservation_ticket_count]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MyBookedTickets, \"PiT9cQuRuykb5smO0f1tTvWSF0Q=\");\n\n_c = MyBookedTickets;\nconst styles = {\n  container: {\n    backgroundColor: \"#fff\",\n    padding: \"20px\",\n    borderRadius: \"5px\",\n    boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.2)\"\n  },\n  heading: {\n    fontSize: \"24px\",\n    fontWeight: \"bold\",\n    marginBottom: \"15px\"\n  },\n  noTickets: {\n    fontSize: \"18px\",\n    color: \"#888\"\n  },\n  ticketList: {\n    listStyle: \"none\",\n    padding: 0\n  },\n  ticketItem: {\n    marginBottom: \"10px\",\n    borderBottom: \"1px solid #eee\",\n    paddingBottom: \"10px\"\n  },\n  movie: {\n    color: \"#333\"\n  },\n  session: {\n    color: \"#555\"\n  },\n  ticketCount: {\n    color: \"#777\"\n  }\n};\nexport default MyBookedTickets;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyBookedTickets\");","map":{"version":3,"names":["React","useEffect","useState","getLoggedInUser","getUser","axios","MyBookedTickets","user","userBookingHistory","setBookings","getUserBookings","console","log","apiUrl","response","get","data","error","styles","container","heading","length","noTickets","ticketList","map","booking","index","ticketItem","movie","session","movie_name","session_time","ticketCount","reservation_ticket_count","backgroundColor","padding","borderRadius","boxShadow","fontSize","fontWeight","marginBottom","color","listStyle","borderBottom","paddingBottom"],"sources":["/Users/vishalmahanteshkodagali/Documents/RMIT/Sem 3/Full Stack Development/Assignment/Git_s3895036/loop-web-s3904406/react/user/src/components/MyBookedTickets.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getLoggedInUser ,getUser} from \"../data/repository\";\nimport axios from \"axios\";\n\nconst MyBookedTickets = () => {\n  const user = getLoggedInUser();\n  const [userBookingHistory,setBookings] = useState([]);\n\n    \n  useEffect(() => {\n    getUserBookings();\n    console.log(userBookingHistory)\n  }, []);\n\n     const getUserBookings = async () => {\n        const apiUrl = `http://localhost:4000/api/reservations/`+getUser();\n        \n        try {\n          const response = await axios.get(apiUrl);\n          \n          if (response.data) {   \n            setBookings(response.data)\n\n          }\n          \n        } catch (error) {\n          console.error('Error during booking fetch:', error);\n        }\n    };\n\n\n  return (\n    <div className=\"my-5 my-booked-tickets\" style={styles.container}>\n      <h2 style={styles.heading}>Booked Tickets</h2>\n      {userBookingHistory.length === 0 ? (\n        <p style={styles.noTickets}>No tickets booked found</p>\n      ) : (\n        <ul style={styles.ticketList}>\n          {userBookingHistory.map((booking, index) => (\n            <li key={index} style={styles.ticketItem}>\n              <strong style={styles.movie}>Movie:</strong> {booking.session.movie.movie_name} , <strong style={styles.session}>Session:</strong> {booking.session.session_time}, <strong style={styles.ticketCount}>Tickets:</strong> {booking.reservation_ticket_count}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    backgroundColor: \"#fff\",\n    padding: \"20px\",\n    borderRadius: \"5px\",\n    boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.2)\",\n  },\n  heading: {\n    fontSize: \"24px\",\n    fontWeight: \"bold\",\n    marginBottom: \"15px\",\n  },\n  noTickets: {\n    fontSize: \"18px\",\n    color: \"#888\",\n  },\n  ticketList: {\n    listStyle: \"none\",\n    padding: 0,\n  },\n  ticketItem: {\n    marginBottom: \"10px\",\n    borderBottom: \"1px solid #eee\",\n    paddingBottom: \"10px\",\n  },\n  movie: {\n    color: \"#333\",\n  },\n  session: {\n    color: \"#555\",\n  },\n  ticketCount: {\n    color: \"#777\",\n  },\n};\n\nexport default MyBookedTickets;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}