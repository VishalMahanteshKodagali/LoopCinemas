{"ast":null,"code":"var _jsxFileName = \"/Users/vishalmahanteshkodagali/Documents/RMIT/Sem 3/Full Stack Development/Assignment/Git_s3895036/loop-web-s3904406/react/user/src/pages/Booking.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport '../Style/booking.css';\nimport BookTickets from \"../components/BookTickets\";\nimport axios from \"axios\"; // Import Axios\n\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_HOST = \"http://localhost:4000/api\";\n\nconst Booking = () => {\n  _s();\n\n  const location = useLocation();\n  const {\n    movie\n  } = location.state;\n  const [sessions, setSessions] = useState([]);\n  useEffect(() => {\n    fetchSessions();\n  }, []); // Function to fetch movie reviews using Axios\n\n  const fetchSessions = async () => {\n    try {\n      console.log(movie);\n      const response = await axios.get(`${API_HOST}/sessions/movie/` + movie.movie_id); // Replace with the actual endpoint URL\n\n      setSessions(response.data); // Assuming the data is in response.data\n    } catch (error) {\n      console.error(\"Error fetching movie reviews:\", error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Booking Details for \", movie.movie_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: movie.image,\n        alt: movie.movie_name,\n        className: \"movie-poster\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Session time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }, this), sessions.map((session, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: session.session_time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-section\",\n      children: /*#__PURE__*/_jsxDEV(BookTickets, {\n        movie: movie,\n        sessions: sessions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Booking, \"ZvoInfbXte21GF+kQxXy3IYlEsA=\", false, function () {\n  return [useLocation];\n});\n\n_c = Booking;\nexport default Booking;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"names":["React","useLocation","BookTickets","axios","useEffect","useState","API_HOST","Booking","location","movie","state","sessions","setSessions","fetchSessions","console","log","response","get","movie_id","data","error","movie_name","image","map","session","index","session_time"],"sources":["/Users/vishalmahanteshkodagali/Documents/RMIT/Sem 3/Full Stack Development/Assignment/Git_s3895036/loop-web-s3904406/react/user/src/pages/Booking.js"],"sourcesContent":["import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport '../Style/booking.css'; \nimport BookTickets from \"../components/BookTickets\";\nimport axios from \"axios\"; // Import Axios\nimport { useEffect, useState } from \"react\";\nconst API_HOST = \"http://localhost:4000/api\";\n\n\nconst Booking = () => {\n  const location = useLocation();\n  const { movie } = location.state;\n\n  const [sessions,setSessions] = useState([]);\n\n  useEffect(()=>{\n    fetchSessions();\n  },[])\n\n\n   // Function to fetch movie reviews using Axios\n   const fetchSessions = async () => {\n    try {\n      console.log(movie)\n      const response = await axios.get(`${API_HOST}/sessions/movie/`+movie.movie_id)// Replace with the actual endpoint URL\n    \n      setSessions(response.data); // Assuming the data is in response.data\n    } catch (error) {\n      console.error(\"Error fetching movie reviews:\", error);\n    }\n  };\n\n  return (\n    <div className=\"booking-container\">\n      <div className=\"booking-header\">\n        <h1>Booking Details for {movie.movie_name}</h1>\n       \n      </div>\n      <br></br>\n      <div className=\"movie-details\">\n        <img src={movie.image} alt={movie.movie_name} className=\"movie-poster\" />\n        <div className=\"movie-info\">\n        <h2>Session time</h2>\n        {sessions.map((session, index) => (\n              <p>{session.session_time}</p> \n          ))}\n        </div>\n      </div>\n\n      <div className=\"booking-section\">\n      <BookTickets movie={movie} sessions={sessions} />\n      </div>\n    </div>\n  );\n};\n\nexport default Booking;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAO,sBAAP;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAA2B;;AAC3B,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AACA,MAAMC,QAAQ,GAAG,2BAAjB;;AAGA,MAAMC,OAAO,GAAG,MAAM;EAAA;;EACpB,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;EACA,MAAM;IAAEQ;EAAF,IAAYD,QAAQ,CAACE,KAA3B;EAEA,MAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBP,QAAQ,CAAC,EAAD,CAAvC;EAEAD,SAAS,CAAC,MAAI;IACZS,aAAa;EACd,CAFQ,EAEP,EAFO,CAAT,CANoB,CAWnB;;EACA,MAAMA,aAAa,GAAG,YAAY;IACjC,IAAI;MACFC,OAAO,CAACC,GAAR,CAAYN,KAAZ;MACA,MAAMO,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAW,GAAEX,QAAS,kBAAZ,GAA8BG,KAAK,CAACS,QAA9C,CAAvB,CAFE,CAE4E;;MAE9EN,WAAW,CAACI,QAAQ,CAACG,IAAV,CAAX,CAJE,CAI0B;IAC7B,CALD,CAKE,OAAOC,KAAP,EAAc;MACdN,OAAO,CAACM,KAAR,CAAc,+BAAd,EAA+CA,KAA/C;IACD;EACF,CATA;;EAWD,oBACE;IAAK,SAAS,EAAC,mBAAf;IAAA,wBACE;MAAK,SAAS,EAAC,gBAAf;MAAA,uBACE;QAAA,mCAAyBX,KAAK,CAACY,UAA/B;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAKE;MAAA;MAAA;MAAA;IAAA,QALF,eAME;MAAK,SAAS,EAAC,eAAf;MAAA,wBACE;QAAK,GAAG,EAAEZ,KAAK,CAACa,KAAhB;QAAuB,GAAG,EAAEb,KAAK,CAACY,UAAlC;QAA8C,SAAS,EAAC;MAAxD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAK,SAAS,EAAC,YAAf;QAAA,wBACA;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADA,EAECV,QAAQ,CAACY,GAAT,CAAa,CAACC,OAAD,EAAUC,KAAV,kBACR;UAAA,UAAID,OAAO,CAACE;QAAZ;UAAA;UAAA;UAAA;QAAA,QADL,CAFD;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QANF,eAgBE;MAAK,SAAS,EAAC,iBAAf;MAAA,uBACA,QAAC,WAAD;QAAa,KAAK,EAAEjB,KAApB;QAA2B,QAAQ,EAAEE;MAArC;QAAA;QAAA;QAAA;MAAA;IADA;MAAA;MAAA;MAAA;IAAA,QAhBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAsBD,CA7CD;;GAAMJ,O;UACaN,W;;;KADbM,O;AA+CN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}